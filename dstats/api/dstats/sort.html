<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Module dstats.sort</title>
		<link rel="stylesheet" type="text/css" href="../styles/ddox.css"/>
		<link rel="stylesheet" href="../prettify/prettify.css" type="text/css"/>
		<script type="text/javascript" src="../scripts/jquery.js">/**/</script>
		<script type="text/javascript" src="../scripts/ddox.js">/**/</script>
	</head>
	<body onload="setupDdox();">
		<nav id="main-nav">
						<ul class="tree-view">
							<li class="tree-view">
								<a href="#" class="package">dstats</a>
						<ul class="tree-view">
							<li>
								<a href="../dstats.html" class=" module">Package members</a>
							</li>
							<li>
								<a href="../dstats/alloc.html" class=" module">alloc</a>
							</li>
							<li>
								<a href="../dstats/base.html" class=" module">base</a>
							</li>
							<li>
								<a href="../dstats/cor.html" class=" module">cor</a>
							</li>
							<li>
								<a href="../dstats/distrib.html" class=" module">distrib</a>
							</li>
							<li>
								<a href="../dstats/infotheory.html" class=" module">infotheory</a>
							</li>
							<li>
								<a href="../dstats/kerneldensity.html" class=" module">kerneldensity</a>
							</li>
							<li>
								<a href="../dstats/pca.html" class=" module">pca</a>
							</li>
							<li>
								<a href="../dstats/random.html" class=" module">random</a>
							</li>
							<li>
								<a href="../dstats/regress.html" class=" module">regress</a>
							</li>
							<li>
								<a href="../dstats/sort.html" class="selected module">sort</a>
							</li>
							<li>
								<a href="../dstats/summary.html" class=" module">summary</a>
							</li>
							<li>
								<a href="../dstats/tests.html" class=" module">tests</a>
							</li>
						</ul>
							</li>
						</ul>
				<noscript>
					<p style="color: red">The search functionality needs JavaScript enabled</p>
				</noscript>
				<div id="symbolSearchPane" style="display: none">
					<p>
						<input id="symbolSearch" type="text" placeholder="Search for symbols" onchange="performSymbolSearch(24);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"/>
					</p>
	<ul id="symbolSearchResults" style="display: none"></ul>
	<script type="application/javascript" src="../symbols.js"></script>
	<script type="application/javascript">
var symbolSearchRootDir = "../";
$('#symbolSearchPane').show();
	</script>
				</div>
		</nav>
		<div id="main-contents">
			<h1>Module dstats.sort</h1>
			<p>A comprehensive sorting library for statistical functions.  Each function
takes N arguments, which are arrays or array-like objects, sorts the first
and sorts the rest in lockstep.  For merge and insertion sort, if the last
argument is a ulong*, increments the dereference of this ulong* by the bubble
sort distance between the first argument and the sorted version of the first
argument.  This is useful for some statistical calculations.
</p>
<section><p>All sorting functions have the precondition that all parallel input arrays
must have the same length.
</p>
</section>

			<section><section><h2>Notes</h2>
<p>Comparison functions must be written such that compFun(x, x) == false.
For example, "a &lt; b" is good, "a &lt;= b" is not.
</p>

<p>These functions are heavily optimized for sorting arrays of
ints and floats (by far the most common case when doing statistical
calculations).  In these cases, they can be several times faster than the
equivalent functions in std.algorithm.  Since sorting is extremely important
for non-parametric statistics, this results in important real-world
performance gains.  However, it comes at a price in terms of generality:
</p>

<p>1.  They assume that what they are sorting is cheap to copy via normal
    assignment.
</p>

<p>2.  They don't work at all with general ranges, only arrays and maybe
    ranges very similar to arrays.
</p>

<p>3.  All tuning and micro-optimization is done with ints and floats, not
    classes, large structs, strings, etc.
</p>
</section>
<section><h2>Examples</h2>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">foo </span><span class="pun">= [</span><span class="lit">3</span><span class="pun">, </span><span class="lit">1</span><span class="pun">, </span><span class="lit">2</span><span class="pun">, </span><span class="lit">4</span><span class="pun">, </span><span class="lit">5</span><span class="pun">]<wbr/>.</span><span class="pln">dup</span><span class="pun">;
</span><span class="kwd">auto </span><span class="pln">bar </span><span class="pun">= [</span><span class="lit">8</span><span class="pun">, </span><span class="lit">6</span><span class="pun">, </span><span class="lit">7</span><span class="pun">, </span><span class="lit">5</span><span class="pun">, </span><span class="lit">3</span><span class="pun">]<wbr/>.</span><span class="pln">dup</span><span class="pun">;
<a href="../dstats/sort/qsort.html"></span><span class="pln">qsort</span></a><span class="pun">(</span><span class="pln">foo</span><span class="pun">, </span><span class="pln">bar</span><span class="pun">);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">foo </span><span class="pun">== [</span><span class="lit">1</span><span class="pun">, </span><span class="lit">2</span><span class="pun">, </span><span class="lit">3</span><span class="pun">, </span><span class="lit">4</span><span class="pun">, </span><span class="lit">5</span><span class="pun">]);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">bar </span><span class="pun">== [</span><span class="lit">6</span><span class="pun">, </span><span class="lit">7</span><span class="pun">, </span><span class="lit">8</span><span class="pun">, </span><span class="lit">5</span><span class="pun">, </span><span class="lit">3</span><span class="pun">]);
</span><span class="kwd">auto </span><span class="pln">baz </span><span class="pun">= [</span><span class="lit">1.0</span><span class="pun">, </span><span class="lit">0</span><span class="pun">, -</span><span class="lit">1</span><span class="pun">, -</span><span class="lit">2</span><span class="pun">, -</span><span class="lit">3</span><span class="pun">]<wbr/>.</span><span class="pln">dup</span><span class="pun">;
<a href="../dstats/sort/mergeSort.html"></span><span class="pln">mergeSort</span></a><span class="pun">!(</span><span class="str">"a &gt; b"</span><span class="pun">)(</span><span class="pln">bar</span><span class="pun">, </span><span class="pln">foo</span><span class="pun">, </span><span class="pln">baz</span><span class="pun">);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">bar </span><span class="pun">== [</span><span class="lit">8</span><span class="pun">, </span><span class="lit">7</span><span class="pun">, </span><span class="lit">6</span><span class="pun">, </span><span class="lit">5</span><span class="pun">, </span><span class="lit">3</span><span class="pun">]);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">foo </span><span class="pun">== [</span><span class="lit">3</span><span class="pun">, </span><span class="lit">2</span><span class="pun">, </span><span class="lit">1</span><span class="pun">, </span><span class="lit">4</span><span class="pun">, </span><span class="lit">5</span><span class="pun">]);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">baz </span><span class="pun">== [-</span><span class="lit">1.0</span><span class="pun">, </span><span class="lit">0</span><span class="pun">, </span><span class="lit">1</span><span class="pun">, -</span><span class="lit">2</span><span class="pun">, -</span><span class="lit">3</span><span class="pun">]);</span></code></pre>
</section>
<section><h2>Author</h2>
<p>David Simcha
</p>
</section>
</section>
			<section>
				<h2>Functions</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th>
						<th>Description</th>
					</tr>
					<tr>
						<td>
							<a id="heapSort" class="public" href="../dstats/sort/heapSort.html">
								<code>heapSort</code>
							</a>
						</td>
						<td>Heap sort.  Unstable, O(N log N) time average and worst case, O(1) space,
 large constant term in time complexity.
</td>
					</tr>
					<tr>
						<td>
							<a id="heapSortImpl" class="public" href="../dstats/sort/heapSortImpl.html">
								<code>heapSortImpl</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="insertionSort" class="public" href="../dstats/sort/insertionSort.html">
								<code>insertionSort</code>
							</a>
						</td>
						<td>Insertion sort.  O(N<sup>2</sup>) time worst, average case, O(1) space, VERY
 small constant, which is why it's useful for sorting small subarrays in
 divide and conquer algorithms.  If last argument is a ulong*, increments
 the dereference of this argument by the bubble sort distance between the
 input array and the sorted version of the input.
</td>
					</tr>
					<tr>
						<td>
							<a id="insertionSortImpl" class="public" href="../dstats/sort/insertionSortImpl.html">
								<code>insertionSortImpl</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="intIsNaN" class="public" href="../dstats/sort/intIsNaN.html">
								<code>intIsNaN</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="makeMultiHeap" class="public" href="../dstats/sort/makeMultiHeap.html">
								<code>makeMultiHeap</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="medianOf3" class="public" href="../dstats/sort/medianOf3.html">
								<code>medianOf3</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="merge" class="public" href="../dstats/sort/merge.html">
								<code>merge</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="mergeInPlace" class="public" href="../dstats/sort/mergeInPlace.html">
								<code>mergeInPlace</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="mergeSort" class="public" href="../dstats/sort/mergeSort.html">
								<code>mergeSort</code>
							</a>
						</td>
						<td>Merge sort.  O(N log N) time, O(N) space, small constant.  Stable sort.
 If last argument is a ulong* instead of an array-like type,
 the dereference of the ulong* will be incremented by the bubble sort
 distance between the input array and the sorted version.  This is useful
 in some statistics functions such as Kendall's tau.
</td>
					</tr>
					<tr>
						<td>
							<a id="mergeSortImpl" class="public" href="../dstats/sort/mergeSortImpl.html">
								<code>mergeSortImpl</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="mergeSortInPlace" class="public" href="../dstats/sort/mergeSortInPlace.html">
								<code>mergeSortInPlace</code>
							</a>
						</td>
						<td>In-place merge sort, based on C++ STL's stable_sort().  O(N log<sup>2</sup> N)
 time complexity, O(1) space complexity, stable.  Much slower than plain
 old mergeSort(), so only use it if you really need the O(1) space.
</td>
					</tr>
					<tr>
						<td>
							<a id="mergeSortInPlaceImpl" class="public" href="../dstats/sort/mergeSortInPlaceImpl.html">
								<code>mergeSortInPlaceImpl</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="mergeSortTemp" class="public" href="../dstats/sort/mergeSortTemp.html">
								<code>mergeSortTemp</code>
							</a>
						</td>
						<td>Merge sort, allowing caller to provide a temp variable.  This allows
 recycling instead of repeated allocations.  If D is data, T is temp,
 and U is a ulong* for calculating bubble sort distance, this can be called
 as mergeSortTemp(D, D, D, T, T, T, U) or mergeSortTemp(D, D, D, T, T, T)
 where each D has a T of corresponding type.
</td>
					</tr>
					<tr>
						<td>
							<a id="multiSiftDown" class="public" href="../dstats/sort/multiSiftDown.html">
								<code>multiSiftDown</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="partitionK" class="public" href="../dstats/sort/partitionK.html">
								<code>partitionK</code>
							</a>
						</td>
						<td>Partitions the input data according to compFun, such that position k contains
 the kth largest/smallest element according to compFun.  For all elements e
 with indices &lt; k, !compFun(data[k], e) is guaranteed to be true.  For all
 elements e with indices &gt; k, !compFun(e, data[k]) is guaranteed to be true.
 For example, if compFun is "a &lt; b", all elements with indices &lt; k will be
 &lt;= data[k], and all elements with indices larger than k will be &gt;= k.
 Reorders any additional input arrays in lockstep.
</td>
					</tr>
					<tr>
						<td>
							<a id="partitionKImpl" class="public" href="../dstats/sort/partitionKImpl.html">
								<code>partitionKImpl</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="postProcess" class="public" href="../dstats/sort/postProcess.html">
								<code>postProcess</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="postProcess" class="public" href="../dstats/sort/postProcess.html">
								<code>postProcess</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="prepareForSorting" class="public" href="../dstats/sort/prepareForSorting.html">
								<code>prepareForSorting</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="qsort" class="public" href="../dstats/sort/qsort.html">
								<code>qsort</code>
							</a>
						</td>
						<td>Quick sort.  Unstable, O(N log N) time average, worst
 case, O(log N) space, small constant term in time complexity.
</td>
					</tr>
					<tr>
						<td>
							<a id="qsortImpl" class="public" href="../dstats/sort/qsortImpl.html">
								<code>qsortImpl</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="quickSelect" class="public" href="../dstats/sort/quickSelect.html">
								<code>quickSelect</code>
							</a>
						</td>
						<td>Returns the kth largest/smallest element (depending on compFun, 0-indexed)
 in the input array in O(N) time.  Allocates memory, does not modify input
 array.
</td>
					</tr>
					<tr>
						<td>
							<a id="removeWhitespace" class="public" href="../dstats/sort/removeWhitespace.html">
								<code>removeWhitespace</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="rotateLeft" class="public" href="../dstats/sort/rotateLeft.html">
								<code>rotateLeft</code>
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="rotateRight" class="public" href="../dstats/sort/rotateRight.html">
								<code>rotateRight</code>
							</a>
						</td>
						<td></td>
					</tr>
				</table>
			</section>
			<section>
				<h2>Classes</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th>
						<th>Description</th>
					</tr>
					<tr>
						<td>
							<a id="SortException" class="public" href="../dstats/sort/SortException.html">
								<code>SortException</code>
							</a>
						</td>
						<td></td>
					</tr>
				</table>
			</section>
			<section>
				<h2>Structs</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th>
						<th>Description</th>
					</tr>
					<tr>
						<td>
							<a id="TopN" class="public" href="../dstats/sort/TopN.html">
								<code>TopN</code>
							</a>
						</td>
						<td>Given a set of data points entered through the put function, this output range
 maintains the invariant that the top N according to compFun will be
 contained in the data structure.  Uses a heap internally, O(log N) insertion
 time.  Good for finding the largest/smallest N elements of a very large
 dataset that cannot be sorted quickly in its entirety, and may not even fit
 in memory. If less than N datapoints have been entered, all are contained in
 the structure.
</td>
					</tr>
				</table>
			</section>
			<section>
				<h2>Templates</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th>
						<th>Description</th>
					</tr>
					<tr>
						<td>
							<a id="isSimpleComparison" class="public" href="../dstats/sort/isSimpleComparison.html">
								<code>isSimpleComparison</code>
							</a>
						</td>
						<td></td>
					</tr>
				</table>
			</section>
			<section>
				<h2>Enum values</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th>
						<th>Type</th>
						<th>Description</th>
					</tr>
					<tr>
						<td>
							<a id="DATA" class="public" href="../dstats/sort/DATA.html">
								<code>DATA</code>
							</a>
						</td>
						<td>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a id="TEMP" class="public" href="../dstats/sort/TEMP.html">
								<code>TEMP</code>
							</a>
						</td>
						<td>
						</td>
						<td></td>
					</tr>
				</table>
			</section>
			<section>
				<h2>Aliases</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th>
						<th>Type</th>
						<th>Description</th>
					</tr>
					<tr>
						<td>
							<a id="ArrayElemType" class="public" href="../dstats/sort/ArrayElemType.html">
								<code>ArrayElemType</code>
							</a>
						</td>
						<td>
<code class="prettyprint lang-d"><span class="pln">T</span></code>
						</td>
						<td></td>
					</tr>
				</table>
			</section>
			<section>
				<h2>Authors</h2>

			</section>
			<section>
				<h2>Copyright</h2>

			</section>
			<section>
				<h2>License</h2>

			</section>
		</div>
	</body>
</html>