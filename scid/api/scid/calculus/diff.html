<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Function diff</title>
		<link rel="stylesheet" type="text/css" href="../../styles/ddox.css"/>
		<link rel="stylesheet" href="../../prettify/prettify.css" type="text/css"/>
		<script type="text/javascript" src="../../scripts/jquery.js">/**/</script>
		<script type="text/javascript" src="../../prettify/prettify.js">/**/</script>
		<script type="text/javascript" src="../../scripts/ddox.js">/**/</script>
	</head>
	<body onload="prettyPrint(); setupDdox();">
		<nav id="main-nav">
						<ul class="tree-view">
							<li class=" tree-view">
								<a href="#" class="package">scid</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">bindings</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">lapack</a>
						<ul class="tree-view">
							<li>
								<a href="../../scid/bindings/lapack/dlapack.html" class=" module">dlapack</a>
							</li>
							<li>
								<a href="../../scid/bindings/lapack/lapack.html" class=" module">lapack</a>
							</li>
						</ul>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">core</a>
						<ul class="tree-view">
							<li>
								<a href="../../scid/core/fortran.html" class=" module">fortran</a>
							</li>
							<li>
								<a href="../../scid/core/memory.html" class=" module">memory</a>
							</li>
							<li>
								<a href="../../scid/core/meta.html" class=" module">meta</a>
							</li>
							<li>
								<a href="../../scid/core/testing.html" class=" module">testing</a>
							</li>
							<li>
								<a href="../../scid/core/traits.html" class=" module">traits</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">internal</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">calculus</a>
						<ul class="tree-view">
							<li>
								<a href="../../scid/internal/calculus/integrate_qk.html" class=" module">integrate_qk</a>
							</li>
							<li>
								<a href="../../scid/internal/calculus/integrate_qng.html" class=" module">integrate_qng</a>
							</li>
						</ul>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">ports</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">intde</a>
						<ul class="tree-view">
							<li>
								<a href="../../scid/ports/intde/intde1.html" class=" module">intde1</a>
							</li>
							<li>
								<a href="../../scid/ports/intde/intde2.html" class=" module">intde2</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">linpack</a>
						<ul class="tree-view">
							<li>
								<a href="../../scid/ports/linpack/gtsl.html" class=" module">gtsl</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">minpack</a>
						<ul class="tree-view">
							<li>
								<a href="../../scid/ports/minpack/dogleg.html" class=" module">dogleg</a>
							</li>
							<li>
								<a href="../../scid/ports/minpack/enorm.html" class=" module">enorm</a>
							</li>
							<li>
								<a href="../../scid/ports/minpack/fdjac1.html" class=" module">fdjac1</a>
							</li>
							<li>
								<a href="../../scid/ports/minpack/hybrd.html" class=" module">hybrd</a>
							</li>
							<li>
								<a href="../../scid/ports/minpack/qform.html" class=" module">qform</a>
							</li>
							<li>
								<a href="../../scid/ports/minpack/qrfac.html" class=" module">qrfac</a>
							</li>
							<li>
								<a href="../../scid/ports/minpack/r1mpyq.html" class=" module">r1mpyq</a>
							</li>
							<li>
								<a href="../../scid/ports/minpack/r1updt.html" class=" module">r1updt</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">napack</a>
						<ul class="tree-view">
							<li>
								<a href="../../scid/ports/napack/addchg.html" class=" module">addchg</a>
							</li>
							<li>
								<a href="../../scid/ports/napack/quasi.html" class=" module">quasi</a>
							</li>
							<li>
								<a href="../../scid/ports/napack/stopit.html" class=" module">stopit</a>
							</li>
						</ul>
							</li>
							<li class="collapsed tree-view">
								<a href="#" class="package">quadpack</a>
						<ul class="tree-view">
							<li>
								<a href="../../scid/ports/quadpack/qag.html" class=" module">qag</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qage.html" class=" module">qage</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qagi.html" class=" module">qagi</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qagie.html" class=" module">qagie</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qagp.html" class=" module">qagp</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qagpe.html" class=" module">qagpe</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qags.html" class=" module">qags</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qagse.html" class=" module">qagse</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qawc.html" class=" module">qawc</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qawce.html" class=" module">qawce</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qawf.html" class=" module">qawf</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qawfe.html" class=" module">qawfe</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qawo.html" class=" module">qawo</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qawoe.html" class=" module">qawoe</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qaws.html" class=" module">qaws</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qawse.html" class=" module">qawse</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qc25c.html" class=" module">qc25c</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qc25f.html" class=" module">qc25f</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qc25s.html" class=" module">qc25s</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qcheb.html" class=" module">qcheb</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qelg.html" class=" module">qelg</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qk15.html" class=" module">qk15</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qk15i.html" class=" module">qk15i</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qk15w.html" class=" module">qk15w</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qk21.html" class=" module">qk21</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qk31.html" class=" module">qk31</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qk41.html" class=" module">qk41</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qk51.html" class=" module">qk51</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qk61.html" class=" module">qk61</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qmomo.html" class=" module">qmomo</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qng.html" class=" module">qng</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qpsrt.html" class=" module">qpsrt</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qwgtc.html" class=" module">qwgtc</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qwgtf.html" class=" module">qwgtf</a>
							</li>
							<li>
								<a href="../../scid/ports/quadpack/qwgts.html" class=" module">qwgts</a>
							</li>
						</ul>
							</li>
						</ul>
							</li>
							<li>
								<a href="../../scid/calculus.html" class="selected module">calculus</a>
							</li>
							<li>
								<a href="../../scid/constants.html" class=" module">constants</a>
							</li>
							<li>
								<a href="../../scid/functions.html" class=" module">functions</a>
							</li>
							<li>
								<a href="../../scid/linalg.html" class=" module">linalg</a>
							</li>
							<li>
								<a href="../../scid/matrix.html" class=" module">matrix</a>
							</li>
							<li>
								<a href="../../scid/nonlinear.html" class=" module">nonlinear</a>
							</li>
							<li>
								<a href="../../scid/types.html" class=" module">types</a>
							</li>
							<li>
								<a href="../../scid/util.html" class=" module">util</a>
							</li>
						</ul>
							</li>
						</ul>
				<noscript>
					<p style="color: red">The search functionality needs JavaScript enabled</p>
				</noscript>
				<div id="symbolSearchPane" style="display: none">
					<p>
						<input id="symbolSearch" type="text" placeholder="Search for symbols" onchange="performSymbolSearch(24);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"/>
					</p>
	<ul id="symbolSearchResults" style="display: none"></ul>
	<script type="application/javascript" src="../../symbols.js"></script>
	<script type="application/javascript">
var symbolSearchRootDir = "../../";
$('#symbolSearchPane').show();
	</script>
				</div>
		</nav>
		<div id="main-contents">
			<h1>Function diff</h1>
			<section>
				<p> Calculate the derivative of a function.
</p>
<section>
<p>    This function uses Ridders' method of extrapolating the results
    of finite difference formulas for consecutively smaller step sizes,
    with an improved stopping criterion described in the Numerical Recipes
    books by Press et al.
</p>

<p>    This method gives a much higher degree of accuracy in the answer
    compared to a single finite difference calculation, but requires
    more function evaluations; typically 6 to 12. The maximum number
    of function evaluations is 2*<a href="../../scid/calculus/diff.html#tableauSize"><code class="prettyprint lang-d">tableauSize</code></a>.
</p>

</section>

					<section>
						<h3>Prototype</h3>
						<pre class="code prettyprint lang-d prototype">
<a href="../../scid/types/Result.html">Result</a>!real diff(Func)(
&nbsp;&nbsp;scope Func f,
&nbsp;&nbsp;real x,
&nbsp;&nbsp;real scale = 1.00000,
&nbsp;&nbsp;size_t tableauSize = 10
);</pre>
					</section>
<section><h3>Parameters</h3>
<table><col class="caption"><tr><th>Name</th><th>Description</th></tr>
<tr><td id="f">f</td><td> The function of which to take the derivative.</td></tr>
<tr><td id="x">x</td><td> The point at which to take the derivative.</td></tr>
<tr><td id="scale">scale</td><td> A "characteristic <a href="../../scid/calculus/diff.html#scale"><code class="prettyprint lang-d">scale</code></a>" over which the function
            changes. (optional)</td></tr>
<tr><td id="tableauSize">tableauSize</td><td> The values of the consecutive approximations
            are stored in a $(D <a href="../../scid/calculus/diff.html#tableauSize"><code class="prettyprint lang-d">tableauSize</code></a>)-by-$(D <a href="../../scid/calculus/diff.html#tableauSize"><code class="prettyprint lang-d">tableauSize</code></a>) triangular
            matrix. Sometimes this number can be reduced to limit
            the possible number of function evaluations (see above)
            and thus greater speed, and sometimes it can be increased
            to allow for higher accuracy. (optional)
</td></tr>
</table>
</section>
<section><h3>Example</h3>
<p>    This example is from Ridders' paper:
</p>
<pre class="code prettyprint lang-d">// Let's take the derivative of
//                 <a href="../../scid/calculus/diff.html#x">x</a>
//                e
//     <a href="../../scid/calculus/diff.html#f">f</a>(<a href="../../scid/calculus/diff.html#x">x</a>) = ----------
//                     2
//            sin <a href="../../scid/calculus/diff.html#x">x</a> - <a href="../../scid/calculus/diff.html#x">x</a>
// at <a href="../../scid/calculus/diff.html#x">x</a>=1.
real <a href="../../scid/calculus/diff.html#f">f</a>(real <a href="../../scid/calculus/diff.html#x">x</a>) { return exp(<a href="../../scid/calculus/diff.html#x">x</a>)/(sin(<a href="../../scid/calculus/diff.html#x">x</a>)-<a href="../../scid/calculus/diff.html#x">x</a>*<a href="../../scid/calculus/diff.html#x">x</a>); }
real dfdxAt1 = 140.73773557129660339;

// <a href="../../scid/calculus/diff.html#scale">scale</a>=0.01 is appropriate for this function.
auto r = diff(&<a href="../../scid/calculus/diff.html#f">f</a>, 1.0, 0.01);
assert (abs(r.value - dfdxAt1) <= r.error);

// Note that if we use the default <a href="../../scid/calculus/diff.html#scale">scale</a>, it won't work:
auto s = diff(&<a href="../../scid/calculus/diff.html#f">f</a>, 1.0);
writeln(s.error);           // prints "inf"
</pre>

</section>
<section><h3>References</h3>
<p>    <ul><li>C. J. F. Ridders,
            <i>Accurate computation of F'(<a href="../../scid/calculus/diff.html#x"><code class="prettyprint lang-d">x</code></a>) and F'(<a href="../../scid/calculus/diff.html#x"><code class="prettyprint lang-d">x</code></a>)F''(<a href="../../scid/calculus/diff.html#x"><code class="prettyprint lang-d">x</code></a>)</i>.
            Advances in Engineering Software, vol. 4 (1982), issue 2, p. 75.</li>
        <li>W. H. Press, S. A. Teukolsky, W. T. Vetterling, and B. P. Flannery,
            <i>Numerical Recipes in C++</i> (2nd ed.).
            Cambridge University Press, 2003.</li>
    </ul>
</p>
</section>

			</section>
			<section>
				<h2>Authors</h2>
<p>Lars Tandle Kyllingstad
</p>

			</section>
			<section>
				<h2>Copyright</h2>
<p>Copyright (c) 2009-2010, Lars T. Kyllingstad. All rights reserved.
</p>

			</section>
			<section>
				<h2>License</h2>
<p>Boost License 1.0
</p>

			</section>
		</div>
	</body>
</html>